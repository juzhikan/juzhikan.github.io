<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://easyread.nosdn.127.net/web/trunk/1510540164821/base.css">
    <script src="https://easyread.nosdn.127.net/web/trunk/1510539795459/rem.min.js"></script>
    <title>雪花效果 - by ghostwu</title>
    <!-- <script src="lib.js"></script> -->
    <style>
        canvas {
            height: 200px;
            position: relative;
        }
        #item {
            transition: all 3s linear;
        }
    </style>
</head>
<body>
    <div id="dm-main">
        <canvas></canvas>
    </div>
    <div>
        <div id="item">lalalalla</div>
    </div>
    <button>pause</button>
    <button>resume</button>
    <!-- <script src="../dist/damoo.js"></script> -->
    <script src="./index.js"></script>
    <script>
        /* var damoo = new Damoo('dm-screen', 'dm-canvas', 50, "Arial")
        
        damoo.play()
        
        damoo.emit({ text: "Damoo is awesome!", color: "#f49" }) */
        var y = 0
        var x = 0
        function draw () {
            var ctx = document.querySelector('canvas').getContext('2d');
            ctx.globalCompositeOperation = 'destination-over';
            ctx.clearRect(0,0,300,300); // clear canvas

            ctx.fillStyle = 'rgba(0,0,0,0.4)';
            ctx.strokeStyle = 'rgba(0,153,255,0.4)';
            ctx.font = 12
            ctx.textAlign = 'start'
            ctx.textBaseline = 'top'
            ctx.shadowOffsetX = 1
            ctx.shadowOffsetY = 1
            ctx.shadowColor = '#fff'
            ctx.fillStyle = '#f49'
            ctx.fillText('testtestest', x++, y)

            window.requestAnimationFrame(draw);
        }

        draw()
        
        document.querySelectorAll('button')[0].onclick = function () {
            /* damoo.emit({ text: "xxxxxxxxx", color: "#f49" }) */
            damoo.pause()
        }
        document.querySelectorAll('button')[1].onclick = function () {
            damoo.emit({ text: "xxxxxxxxx", color: "#f49" })
        }
        requestAnimationFrame(function () {
            document.querySelector('#item').style.transform = "translate(370px, 0px) translateZ(0px)"
        })
        
    </script>
</body>